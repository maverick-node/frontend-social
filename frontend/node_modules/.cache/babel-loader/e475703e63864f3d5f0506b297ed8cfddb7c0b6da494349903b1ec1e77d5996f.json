{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", null, \"Loading...\");\n}","map":{"version":3,"names":["_createElementBlock"],"sources":["/Users/apple/Desktop/social-1/social-network/frontend/src/components/AuthMiddleware.vue"],"sourcesContent":["<template>\n    <div>Loading...</div>\n  </template>\n  \n  <script>\n  \n  export default {\n    name: 'AuthMiddleware',  \n    data() {\n      return {\n        isLoggedIn: false,  \n      };\n    },\n    methods: {\n      async checkLogin() {\n        try {\n          const response = await fetch(*${import.meta.env.VITE_API_URL}/middle', {\n            method: 'GET',\n            credentials: 'include',\n          });\n  \n          const data = await response.json();\n  \n          if (data.message === 'Login successful') {\n            this.isLoggedIn = true;\n            this.$router.push('/home'); \n          } else {\n            this.isLoggedIn = false;\n            this.$router.push('/login');\n          }\n        } catch (error) {\n          console.error('Error during login check:', error);\n          this.$router.push('/login'); \n        }\n      }\n    },\n    mounted() {\n      this.checkLogin();\n    }\n  };\n  </script>\n  "],"mappings":";;uBACIA,mBAAA,CAAqB,aAAhB,YAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
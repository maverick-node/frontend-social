{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'AuthMiddleware',\n  data() {\n    return {\n      isLoggedIn: false\n    };\n  },\n  methods: {\n    async checkLogin() {\n      try {\n        const response = await fetch(`${import.meta.env.VITE_API_URL}/api/middle`, {\n          method: 'GET',\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.message === 'Login successful') {\n          this.isLoggedIn = true;\n          this.$router.push('/home');\n        } else {\n          this.isLoggedIn = false;\n          this.$router.push('/login');\n        }\n      } catch (error) {\n        console.error('Error during login check:', error);\n        this.$router.push('/login');\n      }\n    }\n  },\n  mounted() {\n    this.checkLogin();\n  }\n};","map":{"version":3,"names":["name","data","isLoggedIn","methods","checkLogin","response","fetch","import","meta","env","VITE_API_URL","method","credentials","json","message","$router","push","error","console","mounted"],"sources":["/Users/apple/Desktop/social-1/social-network/frontend/src/components/AuthMiddleware.vue"],"sourcesContent":["<template>\n    <div>Loading...</div>\n  </template>\n  \n  <script>\n  \n  export default {\n    name: 'AuthMiddleware',  \n    data() {\n      return {\n        isLoggedIn: false,  \n      };\n    },\n    methods: {\n      async checkLogin() {\n        try {\n          const response = await fetch(`${import.meta.env.VITE_API_URL}/api/middle`, {\n            method: 'GET',\n            credentials: 'include',\n          });\n  \n          const data = await response.json();\n  \n          if (data.message === 'Login successful') {\n            this.isLoggedIn = true;\n            this.$router.push('/home'); \n          } else {\n            this.isLoggedIn = false;\n            this.$router.push('/login');\n          }\n        } catch (error) {\n          console.error('Error during login check:', error);\n          this.$router.push('/login'); \n        }\n      }\n    },\n    mounted() {\n      this.checkLogin();\n    }\n  };\n  </script>\n  "],"mappings":";AAME,eAAe;EACbA,IAAI,EAAE,gBAAgB;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,YAAY,aAAa,EAAE;UACzEC,MAAM,EAAE,KAAK;UACbC,WAAW,EAAE;QACf,CAAC,CAAC;QAEF,MAAMX,IAAG,GAAI,MAAMI,QAAQ,CAACQ,IAAI,CAAC,CAAC;QAElC,IAAIZ,IAAI,CAACa,OAAM,KAAM,kBAAkB,EAAE;UACvC,IAAI,CAACZ,UAAS,GAAI,IAAI;UACtB,IAAI,CAACa,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;QAC5B,OAAO;UACL,IAAI,CAACd,UAAS,GAAI,KAAK;UACvB,IAAI,CAACa,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAC7B;IACF;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACf,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'AuthMiddleware',\n  data() {\n    return {\n      isLoggedIn: false\n    };\n  },\n  methods: {\n    async checkLogin() {\n      try {\n        const response = await fetch('http://social-net.duckdns.org/middle', {\n          method: 'GET',\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.message === 'Login successful') {\n          this.isLoggedIn = true;\n          this.$router.push('/home');\n        } else {\n          this.isLoggedIn = false;\n          this.$router.push('/login');\n        }\n      } catch (error) {\n        console.error('Error during login check:', error);\n        this.$router.push('/login');\n      }\n    }\n  },\n  mounted() {\n    this.checkLogin();\n  }\n};","map":{"version":3,"names":["name","data","isLoggedIn","methods","checkLogin","response","fetch","method","credentials","json","message","$router","push","error","console","mounted"],"sources":["/Users/apple/Desktop/front/frontend-social/frontend/src/components/AuthMiddleware.vue"],"sourcesContent":["<template>\n    <div class=\"loading\">Loading...</div>\n  </template>\n  \n  <script>\n  \n  export default {\n    name: 'AuthMiddleware',  \n    data() {\n      return {\n        isLoggedIn: false,  \n      };\n    },\n    methods: {\n      async checkLogin() {\n        try {\n          const response = await fetch('http://social-net.duckdns.org/middle', {\n            method: 'GET',\n            credentials: 'include',\n          });\n  \n          const data = await response.json();\n  \n          if (data.message === 'Login successful') {\n            this.isLoggedIn = true;\n            this.$router.push('/home'); \n          } else {\n            this.isLoggedIn = false;\n            this.$router.push('/login');\n          }\n        } catch (error) {\n          console.error('Error during login check:', error);\n          this.$router.push('/login'); \n        }\n      }\n    },\n    mounted() {\n      this.checkLogin();\n    }\n  };\n  </script>\n\n<style scoped>\n.loading {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  font-size: 24px;\n  color: #333;\n  font-weight: bold;\n  text-align: center;\n  background-color: #f9f9f9;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.loading::after {\n  content: \"\";\n  width: 48px;\n  height: 48px;\n  border: 6px solid #ccc;\n  border-top: 6px solid #333;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  display: block;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n</style>\n  "],"mappings":";AAME,eAAe;EACbA,IAAI,EAAE,gBAAgB;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,sCAAsC,EAAE;UACnEC,MAAM,EAAE,KAAK;UACbC,WAAW,EAAE;QACf,CAAC,CAAC;QAEF,MAAMP,IAAG,GAAI,MAAMI,QAAQ,CAACI,IAAI,CAAC,CAAC;QAElC,IAAIR,IAAI,CAACS,OAAM,KAAM,kBAAkB,EAAE;UACvC,IAAI,CAACR,UAAS,GAAI,IAAI;UACtB,IAAI,CAACS,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;QAC5B,OAAO;UACL,IAAI,CAACV,UAAS,GAAI,KAAK;UACvB,IAAI,CAACS,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAC7B;IACF;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACX,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
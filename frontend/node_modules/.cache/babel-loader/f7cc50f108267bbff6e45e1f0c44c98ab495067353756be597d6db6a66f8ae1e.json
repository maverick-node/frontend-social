{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// src/api/fetchInfo.js\nexport var UserID = null;\nexport async function fetchInfo() {\n  try {\n    const response = await fetch('http://localhost:8080/api/info', {\n      method: 'GET',\n      credentials: 'include'\n    });\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(errorText || 'Failed to fetch user info');\n    }\n    console.log('HEREEEEEEEEEEEEEEEEEEEEEEEEEEEEEE');\n    const data = await response.json();\n    UserID = data.Id; // Assuming the response contains an 'id' field\n    console.log('User ID:', UserID);\n    return data;\n  } catch (error) {\n    console.error('Error fetching user info:', error);\n    throw error; // Let the caller handle the error and show notification\n  }\n}\nexport async function CheckLogin() {\n  try {\n    const response = await fetch(\"http://localhost:8080/middle\", {\n      method: \"GET\",\n      credentials: \"include\" // Makes sure cookies are sent with the request\n    });\n    const data = await response.json();\n    if (data.message === \"Login successful\") {\n      this.isLoggedIn = true;\n      this.$router.push(\"/home\"); // Redirect to home page if logged in\n    } else {\n      this.isLoggedIn = false;\n      this.$router.push(\"/login\"); // Redirect to login page if not logged in\n    }\n  } catch (error) {\n    console.error(\"Error during login check:\", error);\n    this.isLoggedIn = false; // Ensures state is updated if an error occurs\n    this.$router.push(\"/login\"); // Redirect to login on error\n    throw error; // Let the caller handle the error and show notification\n  }\n}","map":{"version":3,"names":["UserID","fetchInfo","response","fetch","method","credentials","ok","errorText","text","Error","console","log","data","json","Id","error","CheckLogin","message","isLoggedIn","$router","push"],"sources":["/Users/apple/Desktop/social-1/social-network/frontend/src/api/getInfo.js"],"sourcesContent":["// src/api/fetchInfo.js\nexport var UserID = null;\nexport async function fetchInfo() {\n    try {\n      const response = await fetch('http://localhost:8080/api/info', {\n        method: 'GET',\n        credentials: 'include',\n      });\n  \n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(errorText || 'Failed to fetch user info');\n      }\n      console.log('HEREEEEEEEEEEEEEEEEEEEEEEEEEEEEEE');\n      const data = await response.json();\n      UserID = data.Id; // Assuming the response contains an 'id' field\n      console.log('User ID:', UserID);\n      return data;\n    } catch (error) {\n      console.error('Error fetching user info:', error);\n      throw error; // Let the caller handle the error and show notification\n    }\n  }\n  \n\nexport async function CheckLogin() {\n  try {\n    const response = await fetch(\"http://localhost:8080/middle\", {\n      method: \"GET\",\n      credentials: \"include\", // Makes sure cookies are sent with the request\n    });\n\n    const data = await response.json();\n\n    if (data.message === \"Login successful\") {\n      this.isLoggedIn = true;\n      this.$router.push(\"/home\"); // Redirect to home page if logged in\n    } else {\n      this.isLoggedIn = false;\n      this.$router.push(\"/login\"); // Redirect to login page if not logged in\n    }\n  } catch (error) {\n    console.error(\"Error during login check:\", error);\n    this.isLoggedIn = false; // Ensures state is updated if an error occurs\n    this.$router.push(\"/login\"); // Redirect to login on error\n    throw error; // Let the caller handle the error and show notification\n  }\n}\n\n    "],"mappings":";AAAA;AACA,OAAO,IAAIA,MAAM,GAAG,IAAI;AACxB,OAAO,eAAeC,SAASA,CAAA,EAAG;EAC9B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;MAC7DC,MAAM,EAAE,KAAK;MACbC,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,IAAI,2BAA2B,CAAC;IAC3D;IACAG,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChD,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;IAClCb,MAAM,GAAGY,IAAI,CAACE,EAAE,CAAC,CAAC;IAClBJ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEX,MAAM,CAAC;IAC/B,OAAOY,IAAI;EACb,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,MAAMA,KAAK,CAAC,CAAC;EACf;AACF;AAGF,OAAO,eAAeC,UAAUA,CAAA,EAAG;EACjC,IAAI;IACF,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;MAC3DC,MAAM,EAAE,KAAK;MACbC,WAAW,EAAE,SAAS,CAAE;IAC1B,CAAC,CAAC;IAEF,MAAMO,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;IAElC,IAAID,IAAI,CAACK,OAAO,KAAK,kBAAkB,EAAE;MACvC,IAAI,CAACC,UAAU,GAAG,IAAI;MACtB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAC9B,CAAC,MAAM;MACL,IAAI,CAACF,UAAU,GAAG,KAAK;MACvB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC/B;EACF,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,IAAI,CAACG,UAAU,GAAG,KAAK,CAAC,CAAC;IACzB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC7B,MAAML,KAAK,CAAC,CAAC;EACf;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}